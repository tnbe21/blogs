# 調査的リファクタリング
WSのことをまだまだ知らないしリアーキするタイミングなので、時間をとってやりたい

# リファクタリングすべき箇所
## 変更が頻繁な、主要な?ファイル
開発者たちが頻繁に変更する箇所か、比較的マイナーな箇所かどうか判断しないといけない
git logやPR単位で、変更が多い箇所上位をピックアップするとか
```Shell
git log --pretty=format:"" --name-only | grep "[^\+s]" | sort | uniq -c | sort -nr | head -{n}  # n: 上位nファイル
```

## コード品質の可視化
コードの品質を可視化した上で、**リファクタリングの効果**を検証できるようにする

# コード品質検知
TSでバグ検知ツール、スタイルチェックツールとしていいものを調べる
コミット前に実行している?eslintのチェック項目は見直したい
スタイルファイルなどの重複チェックとか。

# CIサーバ
Github Actionsで大体賄えるし、賄えているように思った

# リファクタリング目標の設定と可視化
「機能Xをリファクタリングする」を目標にするのではなく「機能Xの性能を20%向上させる」を目標にし、
それを、PMなどビジネスサイドも見えるような形で可視化する(例えば、Notionに自動的に同期するようなグラフを貼るとか)のはいいアイデア。

# リファクタとリライト以外の選択肢
サードパーティ製のライブラリに置き換えられないか。日時関連の関数など。
本に書かれていた文脈とは違うが、車輪の再発明をしていないかチェックしてみたい。

# 時間見積もりの難しさ
プロジェクト(タスク)の規模が大きくなればなるほど見積もりは難しくなる

# リライトの注意点
元のコードベースが「醜悪」に見えても実は単に「複雑な仕様」だったという可能性もあることに留意する
